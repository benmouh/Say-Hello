language: c++

os : 
 Linux

script:
 - npm install -g node-gyp
 - node-gyp configure
 - node-gyp build
 - npm test
 - cppcheck  -v --enable=all --language=c++ --std=c++11 . 
 - clang-tidy -checks='*' -p . src/*.cpp
install:
 - npm install -g mocha
 - sudo apt-get install -qq cppcheck
 - sudo add-apt-repository 'deb http://llvm.org/apt/trusty/ llvm-toolchain-trusty-6.0 release'
 - curl -L http://llvm.org/apt/llvm-snapshot.gpg.key | sudo apt-key add -
 - sudo apt-get update
 - sudo apt-get install llvm-dev
deploy:
  - provider: npm
        email: aitbenmouh@gmail.com
        api_key: $apikey
  - provider: releases
        email: aitbenmouh@gmail.com
        api_key: $githubKey
        file: "$TRAVIS_BUILD_DIR/build/Release/say_hello_addon.node"
        skip_cleanup: true

        
  
        